<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>GiriÅŸ / KayÄ±t</title>
  <link rel="stylesheet" href="style.css" />
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
    import { getAuth, signInWithEmailAndPassword, GoogleAuthProvider, signInWithPopup } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";
    import { getFirestore, doc, setDoc } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";
    
    const firebaseConfig = {
      apiKey: "AIzaSyAcBbfYUNmzCUJ9woKsQeC4b7U4L3Td42w",
      authDomain: "vipbulusma.firebaseapp.com",
      projectId: "vipbulusma",
      storageBucket: "vipbulusma.firebasestorage.app",
      messagingSenderId: "552096712424",
      appId: "1:552096712424:web:2c5afb59f00dcd24092b5d",
    };

    import { app } from "../firebaseConfig.js";
    const auth = getAuth(app);
    const provider = new GoogleAuthProvider();

    window.login = async function () {
      const email = document.getElementById("loginEmail").value;
      const password = document.getElementById("loginPassword").value;
      try {
        await signInWithEmailAndPassword(auth, email, password);

        const user = auth.currentUser;
const db = getFirestore(app);
await setDoc(doc(db, "users", user.uid), {
  uid: user.uid,
  displayName: user.displayName || "Bilinmeyen",
  age: 25,
  profileImage: user.photoURL || ""
}, { merge: true });

        window.location.href = "../home.html";
      } catch (error) {
        alert("HatalÄ± e-posta veya ÅŸifre!");
      }
    };

    window.googleLogin = async function () {
      try {
        const result = await signInWithPopup(auth, provider);
        const user = result.user;
        
const db = getFirestore(app);
await setDoc(doc(db, "users", user.uid), {
  uid: user.uid,
  displayName: user.displayName || "Bilinmeyen",
  age: 25,
  profileImage: user.photoURL || ""
}, { merge: true });
        
        window.location.href = "../home.html";
      } catch (error) {
        alert("Google ile giriÅŸ baÅŸarÄ±sÄ±z oldu.");
        console.error(error);
      }
    };
  </script>
</head>
<body>
  <div class="background"></div>

  <div class="login-wrapper">
    <div class="login-container">
      <div class="tab-buttons">
        <button id="loginTab" class="active">GiriÅŸ</button>
        <button id="registerTab">KayÄ±t Ol</button>
      </div>

      <!-- GiriÅŸ Formu -->
      <div id="loginForm" class="form">
        <h2>GiriÅŸ Yap</h2>
        <input type="email" id="loginEmail" placeholder="E-posta" required />
        <div class="password-toggle">
          <input type="password" id="loginPassword" placeholder="Åifre" required />
          <span onclick="togglePassword('loginPassword')">ğŸ‘ï¸</span>
        </div>
        <button onclick="login()">GiriÅŸ Yap</button>
        <p class="forgot"><a href="#">Åifremi Unuttum</a></p>
        <div class="google-btn" onclick="googleLogin()">Google ile GiriÅŸ Yap</div>

        <div class="login-highlights">
          <p>âœ… Ãœcretsiz kaydol</p>
          <p>ğŸ“ YakÄ±nÄ±ndakilerle eÅŸleÅŸ</p>
          <p>ğŸ¥ TanÄ±ÅŸ, ister video ile anÄ±nda canlÄ± gÃ¶rÃ¼ÅŸ</p>
        </div>
      </div>

      <!-- KayÄ±t Formu -->
<div id="registerForm" class="form hidden">
  <h2>KayÄ±t Ol</h2>
  <input type="text" id="registerName" placeholder="KullanÄ±cÄ± AdÄ±" required />
  <input type="email" id="registerEmail" placeholder="E-posta" required />
  <div class="password-toggle">
    <input type="password" id="registerPassword" placeholder="Åifre" required />
    <span onclick="togglePasswordByElement(this)">ğŸ‘ï¸</span>
  </div>
  <div class="password-toggle">
    <input type="password" id="registerConfirm" placeholder="Åifre Tekrar" required />
    <span onclick="togglePasswordByElement(this)">ğŸ‘ï¸</span>
  </div>
  <input type="number" id="registerAge" placeholder="YaÅŸ" min="18" required />
  <select id="registerCity">
    <option value="">Åehir SeÃ§in</option>
    <option>Ä°stanbul</option><option>Ankara</option><option>Ä°zmir</option>
    <option>Bursa</option><option>Adana</option><option>Antalya</option>
  </select>
  <select id="registerGender">
    <option value="">Cinsiyetiniz</option>
    <option>Erkek</option><option>KadÄ±n</option><option>DiÄŸer</option>
  </select>
  <select id="registerLookingFor">
    <option value="">AradÄ±ÄŸÄ±nÄ±z</option>
    <option>Erkek</option><option>KadÄ±n</option><option>Fark etmez</option>
  </select>
  <label class="checkbox-container">
    <input type="checkbox" id="privacyCheck" required />
    Gizlilik ÅŸartlarÄ±nÄ± okudum, kabul ediyorum.
  </label>
  <button onclick="register()">KayÄ±t Ol</button>
</div>

    <!-- Alt alan -->
    <div class="login-extra">
      <div class="gallery">
        <img id="galleryImage" src="../images/1.png" alt="Mutluluk">
      </div>

      <div class="about-section">
        <div class="heart">ğŸ’– 1990 YÄ±lÄ±ndan Beri MutluluÄŸunuza Ortak Oluyoruz</div>
        <p>BugÃ¼ne kadar evlenmiÅŸ, niÅŸanlanmÄ±ÅŸ veya uzun soluklu iliÅŸki kurmuÅŸ yÃ¼zlerce Ã§iftin hikayesi platformumuzda baÅŸlamÄ±ÅŸtÄ±r. Her gÃ¼n bÃ¼yÃ¼yen topluluÄŸumuzla birlikte; aÅŸkÄ±n, saygÄ±nÄ±n ve sadakatin hala deÄŸerli olduÄŸunu gÃ¶steriyoruz.</p>
        <p>Platformumuz, kullanÄ±cÄ±larÄ±n kiÅŸisel verilerini yÃ¼ksek gÃ¼venlik Ã¶nlemleriyle korur. Taciz, hakaret ya da kÃ¶tÃ¼ niyetli davranÄ±ÅŸlara karÅŸÄ± sÄ±fÄ±r tolerans politikamÄ±z vardÄ±r. 7/24 aktif destek ekibimiz, her Ã¼yemizin gÃ¼venli ve huzurlu bir deneyim yaÅŸamasÄ± iÃ§in titizlikle Ã§alÄ±ÅŸmaktadÄ±r.</p>
        <p>FarklÄ± yaÅŸ gruplarÄ±na, ÅŸehir ve Ã¼lkelere gÃ¶re geliÅŸmiÅŸ filtreleme sistemimiz sayesinde, kendinize en uygun kiÅŸiyi kolayca bulabilirsiniz. Ãœstelik gÃ¶rÃ¼ntÃ¼lÃ¼ gÃ¶rÃ¼ÅŸme ve mesajlaÅŸma Ã¶zellikleriyle, tanÄ±ÅŸmalar Ã§ok daha gerÃ§ek ve gÃ¼Ã§lÃ¼ bir baÄŸa dÃ¶nÃ¼ÅŸÃ¼yor.</p>
        <p>ğŸ“Œ KiÅŸisel verileriniz KVKK (KiÅŸisel Verileri Koruma Kanunu) gÃ¼vencesi altÄ±ndadÄ±r. Platformumuzda verdiÄŸiniz tÃ¼m bilgiler, geliÅŸmiÅŸ gÃ¼venlik sistemleriyle korunmakta ve Ã¼Ã§Ã¼ncÃ¼ kiÅŸilerle asla paylaÅŸÄ±lmamaktadÄ±r.</p>
        <p>ğŸ›¡ï¸ Sahte hesaplara ve taciz iÃ§eriklerine karÅŸÄ± otomatik denetleme sistemleri ve moderasyon ekibi 7/24 aktiftir. Åikayet edilen kullanÄ±cÄ±lar anÄ±nda incelemeye alÄ±nÄ±r, ihlallerde hesaplar derhal kapatÄ±lÄ±r.</p>
        <p>ğŸ‘®â€â™€ï¸ Ciddi niyetli bireylerin bir araya gelebilmesi iÃ§in her Ã¼yemizin kimlik doÄŸrulamasÄ±, fotoÄŸraf onayÄ± ve davranÄ±ÅŸ analizi sistemlerimizle kontrolÃ¼ saÄŸlanÄ±r. BÃ¶ylece sahte profillerin Ã¶nÃ¼ne geÃ§ilir.</p>
        <p>ğŸ¯ FarklÄ± yaÅŸ gruplarÄ±na, ÅŸehir ve Ã¼lkelere gÃ¶re geliÅŸmiÅŸ filtreleme sistemimiz sayesinde, kendinize en uygun kiÅŸiyi kolayca bulabilirsiniz. Ãœstelik gÃ¶rÃ¼ntÃ¼lÃ¼ gÃ¶rÃ¼ÅŸme ve mesajlaÅŸma Ã¶zellikleriyle, tanÄ±ÅŸmalar Ã§ok daha gerÃ§ek ve gÃ¼Ã§lÃ¼ bir baÄŸa dÃ¶nÃ¼ÅŸÃ¼r.</p>
        <p>Siz de bu bÃ¼yÃ¼k ailenin bir parÃ§asÄ± olun. Kendi hikayenizi yazmaya bugÃ¼nden baÅŸlayÄ±n. Ã‡Ã¼nkÃ¼ her gÃ¼zel hikÃ¢ye, doÄŸru bir baÅŸlangÄ±Ã§la baÅŸlarâ€¦</p>
        <p>Evlilik Yolu ailesi olarak 1990 yÄ±lÄ±ndan bu yana binlerce Ã¼yemizin hayatÄ±na dokunduk...</p>
        <!-- (diÄŸer metinler aynen korunmuÅŸtur) -->
        <strong>Evlilik Yolu â€“ Ciddi iliÅŸkiler burada baÅŸlar.</strong>
      </div>
    </div>
  </div>

  <script>
    const images = ["1.png", "2.png", "3.png", "4.png", "5.png"];
    let index = 0;
    setInterval(() => {
      index = (index + 1) % images.length;
      document.getElementById("galleryImage").src = `../images/${images[index]}`;
    }, 15000);
  
    function register() {
      const username = document.querySelector('#registerForm input[placeholder="KullanÄ±cÄ± AdÄ±"]').value;
      const age = document.querySelector('#registerForm input[placeholder="YaÅŸ"]').value;

      if (username && age) {
        localStorage.setItem("username", username);
        localStorage.setItem("age", age);
        localStorage.setItem("membership", "Standart Ãœye");
        window.location.href = "../home.html";
      } else {
        alert("LÃ¼tfen tÃ¼m alanlarÄ± doldurun.");
      }
    }

    function togglePassword(id) {
      const input = document.getElementById(id);
      input.type = input.type === "password" ? "text" : "password";
    }

    function togglePasswordByElement(el) {
      const input = el.previousElementSibling;
      input.type = input.type === "password" ? "text" : "password";
    }

    document.getElementById("loginTab").onclick = () => {
      document.getElementById("loginForm").classList.remove("hidden");
      document.getElementById("registerForm").classList.add("hidden");
      loginTab.classList.add("active");
      registerTab.classList.remove("active");
    };

    document.getElementById("registerTab").onclick = () => {
      document.getElementById("loginForm").classList.add("hidden");
      document.getElementById("registerForm").classList.remove("hidden");
      loginTab.classList.remove("active");
      registerTab.classList.add("active");
    };
    </script>
    
 <script type="module" src="/login/script.js"></script>
<script type="module" src="/login/register.js"></script>
</body>
</html>

