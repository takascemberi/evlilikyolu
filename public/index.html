<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Evlilik Yolu - Giriş & Kayıt</title>
  <link rel="stylesheet" href="style.css" />
  <style>
    .slider-wrapper {
      position: relative;
      max-width: 700px;
      margin: 50px auto 0 auto;
    }
    .slider-image {
      width: 100%;
      height: auto;
      border-radius: 12px;
      box-shadow: 0 0 15px rgba(0,0,0,0.4);
      position: absolute;
      left: 0;
      top: 0;
      opacity: 0;
      transition: opacity 1s ease-in-out;
    }
    .slider-image.active {
      opacity: 1;
      z-index: 1;
      position: relative;
    }
    .blog-box {
      max-width: 800px;
      margin: 450px auto 50px auto;
      background: rgba(255,255,255,0.1);
      padding: 30px;
      border-radius: 12px;
      color: #fff;
      font-size: 1.1rem;
      line-height: 1.8;
      text-align: center;
      box-shadow: 0 0 10px rgba(0,0,0,0.4);
    }
  </style>
</head>
<body>
  <div class="overlay">
    <div class="form-container">
      <h1>Evlilik Yolu</h1>
      <div class="tabs">
        <div class="tab active" onclick="showTab('login')">Giriş Yap</div>
        <div class="tab" onclick="showTab('register')">Kayıt Ol</div>
      </div>

      <form id="login" class="form active" onsubmit="handleLogin(event)">
        <input type="email" id="loginEmail" placeholder="E-posta" required />
        <input type="password" id="loginPassword" placeholder="Şifre" required />
        <div class="forgot" onclick="alert('Şifre sıfırlama yakında!')">Şifremi Unuttum?</div>
        <button type="submit">Giriş Yap</button>
        <button type="button" class="google-btn" onclick="handleGoogleLogin()">Google ile Giriş Yap</button>
      </form>

      <form id="register" class="form" onsubmit="handleRegister(event)">
        <input type="text" id="registerUsername" placeholder="Kullanıcı Adı" required />
        <input type="email" id="registerEmail" placeholder="E-posta" required />
        <input type="number" id="registerAge" placeholder="Yaş" min="18" max="120" required />
        <input type="text" id="registerCountry" placeholder="Ülke" required />
        <input type="text" id="registerCity" placeholder="Şehir" required />
        <div class="radio-group">
          <label>Cinsiyet:</label>
          <div>
            <input type="radio" id="male" name="gender" value="erkek" required />
            <label for="male">Erkek</label>
            <input type="radio" id="female" name="gender" value="kadin" required />
            <label for="female">Kadın</label>
          </div>
        </div>
        <div class="radio-group">
          <label>Aradığı Cinsiyet:</label>
          <div>
            <input type="radio" id="search-male" name="searchGender" value="erkek" required />
            <label for="search-male">Erkek</label>
            <input type="radio" id="search-female" name="searchGender" value="kadin" required />
            <label for="search-female">Kadın</label>
          </div>
        </div>
        <input type="password" id="registerPassword" placeholder="Şifre" required />
        <input type="password" id="registerPasswordConfirm" placeholder="Şifre Tekrar" required />
        <button type="submit">Kayıt Ol</button>
      </form>

      <div class="info-text">
        <p>💖 Ücretsiz üye ol</p>
        <p>📍 Yakınındakilerle eşleş</p>
        <p>🎥 Mesajlaş ve video ile canlı görüş</p>
        <p>💍 Buluş ve hayatını değiştir</p>
      </div>
    </div>
  </div>

  <!-- 📸 Görsel Slayt -->
  <div class="slider-wrapper">
    <img src="images/1.png" class="slider-image active" />
    <img src="images/2.png" class="slider-image" />
    <img src="images/3.png" class="slider-image" />
    <img src="images/4.png" class="slider-image" />
    <img src="images/5.png" class="slider-image" />
  </div>

  <!-- 📝 Blog Kutusu -->
  <div class="blog-box">
    1990 yılından itibaren sizlerle birlikte mutluluğunuzu paylaşıyoruz<br><br>
    Bugüne kadar binlerce çiftin hayatını birleştirmesine aracılık ettik. Evlilik Yolu, yalnızca bir tanışma platformu değil; güven, sadakat ve samimiyetin merkezinde bir topluluktur.<br><br>
    Amacımız sadece eş bulmak değil, birbirine destek olan ömürlük birliktelikleri mümkün kılmak. Gerçek aşkı arayan, hayallerini paylaşacak birini isteyen herkesin yolu burada kesişiyor.  
    Siz de kendi hikayenizi başlatmak için bize katılın.
  </div>

  <!-- 🔐 Firebase -->
  <script type="module">
    import { auth } from './firebaseConfig.js';
    import {
      signInWithEmailAndPassword,
      createUserWithEmailAndPassword,
      signInWithPopup,
      GoogleAuthProvider
    } from "https://www.gstatic.com/firebasejs/9.22.1/firebase-auth.js";

    function showTab(tab) {
      document.getElementById("login").classList.remove("active");
      document.getElementById("register").classList.remove("active");
      document.querySelectorAll(".tab").forEach(el => el.classList.remove("active"));
      if (tab === "login") {
        document.getElementById("login").classList.add("active");
        document.querySelectorAll(".tab")[0].classList.add("active");
      } else {
        document.getElementById("register").classList.add("active");
        document.querySelectorAll(".tab")[1].classList.add("active");
      }
    }

    window.showTab = showTab;

    window.handleLogin = async function (event) {
      event.preventDefault();
      const email = document.getElementById("loginEmail").value;
      const password = document.getElementById("loginPassword").value;
      try {
        await signInWithEmailAndPassword(auth, email, password);
        window.location.href = "home.html";
      } catch (error) {
        alert("Giriş başarısız: " + error.message);
      }
    }

    window.handleRegister = async function (event) {
      event.preventDefault();
      const email = document.getElementById("registerEmail").value;
      const password = document.getElementById("registerPassword").value;
      const confirm = document.getElementById("registerPasswordConfirm").value;
      if (password !== confirm) return alert("Şifreler uyuşmuyor!");
      try {
        await createUserWithEmailAndPassword(auth, email, password);
        alert("Kayıt başarılı! Giriş yapabilirsiniz.");
        showTab("login");
      } catch (error) {
        alert("Kayıt başarısız: " + error.message);
      }
    }

    window.handleGoogleLogin = async function () {
      const provider = new GoogleAuthProvider();
      try {
        await signInWithPopup(auth, provider);
        window.location.href = "home.html";
      } catch (error) {
        alert("Google ile giriş başarısız: " + error.message);
      }
    }
  </script>

  <script>
    const images = document.querySelectorAll(".slider-image");
    let current = 0;

    setInterval(() => {
      images[current].classList.remove("active");
      current = (current + 1) % images.length;
      images[current].classList.add("active");
    }, 4000);
  </script>
</body>
</html>
